<!doctype html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>EquipRental - 대여 신청내역</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="/css/common/common.css">
    <link rel="stylesheet" href="/css/rental/adminRentalList.css">
</head>
<body>
<div class="wrapper">
    <div class="content-wrapper">
        {{> common/adminSidebar }}
        <main class="content">
            <h2 class="mt-5 mb-4 ms-3">대여 신청 내역</h2><hr>
            <div class="container-fluid mt-5">
                <div class="container-fluid mt-5">
                    <!-- 필터 영역 -->
                    <fieldset class="filter-card p-3 mb-3 border rounded shadow-sm">
                        <legend class="mb-3">
                            <span class="fs-5 fw-semibold">조회 필터</span>
                            [<button type="button" id="reset-filters" class="btn btn-link p-0">
                            <i class="bi bi-arrow-counterclockwise fs-5"></i>
                        </button>]
                        </legend>
                        <div id="department-filters" class="mt-3 mb-3">
                            <label for="department" class="form-label fw-semibold">부서</label>
                            <select id="department" class="form-select"></select>
                        </div>
                        <div id="category-filters" class="mt-3 mb-3"></div>
                        <div id="sub-category-filters" class="mt-3 mb-3"></div>

                        <!-- 검색창 -->
                        <label for="member-search" class="fw-bold">대여 신청자</label>
                        <input type="text" id="member-search" class="form-control" placeholder="신청자 입력">
                    </fieldset>

                    <!-- 대여 신청내역 리스트 -->
                    <div id="rental-list" class="row g-3">
                        <!-- AJAX로 렌더링 -->
                    </div>

                    <!-- 페이징 -->
                    <div id="pagination" class="mt-4"></div>
                </div>
            </div>

            <!-- 거절 사유 모달 -->
            <div class="modal fade" id="rejectReasonModal" tabindex="-1" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title">거절 사유 입력</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="닫기"></button>
                        </div>
                        <div class="modal-body">
                            <label for="reject-reason" class="form-label">거절 사유</label>
                            <select id="reject-reason" class="form-select mb-2">
                                <option value="">사유 선택</option>
                                <option value="재고 없음">재고 없음</option>
                                <option value="대여 시작일 경과">대여 시작일 경과</option>
                                <option value="기타">기타</option>
                            </select>
                            <textarea id="reject-reason-text" class="form-control" placeholder="기타 사유 입력 (선택)" rows="3"></textarea>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">취소</button>
                            <button type="button" class="btn btn-danger" id="confirm-reject">거절 확정</button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
</div>
<div id="snackbar"></div>

<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="/js/common/common.js"></script>
<script src="/js/notification/notification.js"></script>
<script src="/js/auth/logout.js"></script>
<script src="/js/rental/admin/adminRentalList.js"></script>
</body>
</html>